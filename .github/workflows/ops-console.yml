name: Ops Console

on:
  issue_comment:
    types: [created]

permissions:
  contents: read
  issues: write
  pull-requests: write

jobs:
  gate:
    name: Gate on /approve
    runs-on: ubuntu-latest
    if: |
      github.event.issue.pull_request &&
      contains(github.event.comment.body, '/approve')
    steps:
      - name: Acknowledge approval gate
        run: |
          echo "::notice::Approval gate triggered by ${{ github.actor }}"
          echo "PR: ${{ github.event.issue.number }}"
          echo "Comment: ${{ github.event.comment.id }}"
